/root/siton-tmp/conda/envs/xks_OSEDiff/lib/python3.10/site-packages/timm/models/layers/__init__.py:49: FutureWarning: Importing from timm.models.layers is deprecated, please import via timm.layers
  warnings.warn(f"Importing from {__name__} is deprecated, please import via timm.layers", FutureWarning)
/root/siton-tmp/conda/envs/xks_OSEDiff/lib/python3.10/site-packages/timm/models/hub.py:4: FutureWarning: Importing from timm.models.hub is deprecated, please import via timm.models
  warnings.warn(f"Importing from {__name__} is deprecated, please import via timm.models", FutureWarning)
/root/siton-tmp/conda/envs/xks_OSEDiff/lib/python3.10/site-packages/timm/models/registry.py:4: FutureWarning: Importing from timm.models.registry is deprecated, please import via timm.models
  warnings.warn(f"Importing from {__name__} is deprecated, please import via timm.models", FutureWarning)
/root/siton-tmp/conda/envs/xks_OSEDiff/lib/python3.10/site-packages/timm/models/helpers.py:7: FutureWarning: Importing from timm.models.helpers is deprecated, please import via timm.models
  warnings.warn(f"Importing from {__name__} is deprecated, please import via timm.models", FutureWarning)
Traceback (most recent call last):
  File "/root/siton-tmp/sx/xks/51_code/data_prepare/full_process_m3/api_services/osediff_api.py", line 280, in <module>
    main() 
  File "/root/siton-tmp/sx/xks/51_code/data_prepare/full_process_m3/api_services/osediff_api.py", line 264, in main
    osediff_api = OSEDiffAPI(
  File "/root/siton-tmp/sx/xks/51_code/data_prepare/full_process_m3/api_services/osediff_api.py", line 92, in __init__
    self._init_models()
  File "/root/siton-tmp/sx/xks/51_code/data_prepare/full_process_m3/api_services/osediff_api.py", line 121, in _init_models
    model = OSEDiff_test(args)
  File "/root/siton-tmp/sx/xks/51_code/data_prepare/OSEDiff/osediff.py", line 251, in __init__
    self.tokenizer = AutoTokenizer.from_pretrained(self.args.pretrained_model_name_or_path, subfolder="tokenizer")
  File "/root/siton-tmp/conda/envs/xks_OSEDiff/lib/python3.10/site-packages/transformers/models/auto/tokenization_auto.py", line 642, in from_pretrained
    tokenizer_config = get_tokenizer_config(pretrained_model_name_or_path, **kwargs)
  File "/root/siton-tmp/conda/envs/xks_OSEDiff/lib/python3.10/site-packages/transformers/models/auto/tokenization_auto.py", line 486, in get_tokenizer_config
    resolved_config_file = cached_file(
  File "/root/siton-tmp/conda/envs/xks_OSEDiff/lib/python3.10/site-packages/transformers/utils/hub.py", line 409, in cached_file
    resolved_file = hf_hub_download(
  File "/root/siton-tmp/conda/envs/xks_OSEDiff/lib/python3.10/site-packages/huggingface_hub/utils/_deprecation.py", line 101, in inner_f
    return f(*args, **kwargs)
  File "/root/siton-tmp/conda/envs/xks_OSEDiff/lib/python3.10/site-packages/huggingface_hub/utils/_validators.py", line 106, in _inner_fn
    validate_repo_id(arg_value)
  File "/root/siton-tmp/conda/envs/xks_OSEDiff/lib/python3.10/site-packages/huggingface_hub/utils/_validators.py", line 154, in validate_repo_id
    raise HFValidationError(
huggingface_hub.errors.HFValidationError: Repo id must be in the form 'repo_name' or 'namespace/repo_name': '/root/siton-tmp/sx/xks/51_code/data_prepare/../models/AI-ModelScope/stable-diffusion-2-1-base'. Use `repo_type` argument if needed.

ERROR conda.cli.main_run:execute(49): `conda run python /root/siton-tmp/sx/xks/51_code/data_prepare/full_process_m3/api_services/osediff_api.py --port 5001 --osediff_path /root/siton-tmp/sx/xks/51_code/data_prepare/OSEDiff/preset/models/osediff.pkl --pretrained_model_name_or_path /root/siton-tmp/sx/xks/51_code/data_prepare/../models/AI-ModelScope/stable-diffusion-2-1-base --ram_path /root/siton-tmp/sx/xks/51_code/data_prepare/OSEDiff/preset/models/ram_swin_large_14m.pth --ram_ft_path /root/siton-tmp/sx/xks/51_code/data_prepare/OSEDiff/preset/models/DAPE.pth --device cuda --upscale 2 --process_size 512 --mixed_precision fp16 --output_dir output` failed. (See above for error)
2026-02-12 08:14:51,812 - __main__ - INFO - ✅ OSEDiff模块导入成功
2026-02-12 08:14:51,814 - __main__ - INFO - [OSEDiffAPI] 输出根目录设置为: /root/siton-tmp/sx/xks/51_code/data_prepare/full_process_m3/output
2026-02-12 08:14:51,814 - __main__ - ERROR - ❌ 模型初始化失败: Repo id must be in the form 'repo_name' or 'namespace/repo_name': '/root/siton-tmp/sx/xks/51_code/data_prepare/../models/AI-ModelScope/stable-diffusion-2-1-base'. Use `repo_type` argument if needed.

